# QFO Admin Backend â€” .env.example
# Copy to .env.local for local dev: `cp .env.example .env.local`

# --- Core Runtime ---
NODE_ENV=development
VERBOSE=0

# --- Supabase (required) ---
SUPABASE_URL=https://YOUR-PROJECT.supabase.co
SUPABASE_SERVICE_ROLE_KEY=YOUR_SERVICE_ROLE_KEY
# Optional: used for anon queries (rare in backend)
SUPABASE_ANON_KEY=YOUR_ANON_KEY

# --- Authentication ---
# JWT secrets for issuing/verifying tokens when using local auth
JWT_SECRET=change-me
JWT_REFRESH_SECRET=change-me-too
# Token lifetimes
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# External user service (recommended in production)
USER_SERVICE_BASE_URL=https://toc-userbackend.vercel.app
USER_SERVICE_VERIFY_PATH=/api/auth/Verify

# Dev toggles
# Disable auth only when NODE_ENV !== production
DISABLE_AUTH=0
# Allow stub login in production ONLY temporarily for testing
ALLOW_STUB_LOGIN=0

# --- CORS ---
# Comma-separated list of allowed origins for frontend apps
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5174,http://localhost:3000,https://toc-adminfrontend.vercel.app,https://toc-userfrontend.vercel.app

# --- Stripe (optional for live dashboard & webhooks) ---
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PRO_PRICE_ID=price_...
STRIPE_PREMIUM_PRICE_ID=price_...
# Optional product IDs if your logic matches via product
STRIPE_PRO_PRODUCT_ID=prod_...
STRIPE_PREMIUM_PRODUCT_ID=prod_...

# --- Newsletter (optional) ---
# Prefer SMTP settings; SendGrid is supported as a fallback
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=smtp-user
SMTP_PASS=smtp-pass
SENDGRID_API_KEY=SG.xxx
NEWSLETTER_FROM_EMAIL=team@example.com
NEWSLETTER_FROM_NAME=Quality for Outcomes
